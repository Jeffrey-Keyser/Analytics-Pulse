# Server Environment Configuration
# Copy this file to .env and update with your values

# Environment
NODE_ENV=development

# Server
PORT=3001

# Database Configuration (for @jeffrey-keyser/database-base-config)
# These are the standard variables expected by the database package
DATABASE_HOST=localhost
DATABASE_NAME=your_database_name
DATABASE_USER=your_database_user
DATABASE_PASSWORD=your_database_password
DATABASE_PORT=5432
DATABASE_SSL=false
DATABASE_SCHEMA=public

# CORS Configuration
ORIGIN_BASE_URL=http://localhost:3000
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Session Configuration
# Run ./setup-project.sh to auto-generate, or: openssl rand -base64 32
SESSION_SECRET=CHANGE_ME

# JWT Configuration
# Run ./setup-project.sh to auto-generate, or: openssl rand -base64 32
JWT_SECRET=CHANGE_ME

# IP Hash Salt (for privacy-focused geolocation)
# Run ./setup-project.sh to auto-generate, or: openssl rand -base64 32
IP_HASH_SALT=CHANGE_ME

# External Services
# Add any external service configurations here

# Pay Service Configuration
PAY_SERVICE_URL=https://pay.jeffreykeyser.net

# Pay Service API Key (Optional - for service-to-service authentication)
# PAY_SERVICE_TOKEN=your-pay-service-token-here

# NPM Token for private package authentication (if needed locally)
# NPM_TOKEN=your-github-token-here

# Rate Limiting Configuration
# Adjust these values based on your expected traffic and abuse tolerance
RATE_LIMIT_WINDOW_MS=3600000          # Time window in ms (default: 1 hour)
RATE_LIMIT_MAX_REQUESTS=10000         # Max requests per API key per window (default: 10,000/hour)
RATE_LIMIT_IP_MAX=1000                # Max requests per IP per window (default: 1,000/hour)
RATE_LIMIT_BURST_WINDOW_MS=60000      # Burst window in ms (default: 1 minute)
RATE_LIMIT_BURST_MAX=100              # Max requests in burst window (default: 100/minute)

# Redis Configuration (Optional - for query result caching)
# If not configured, system falls back to in-memory caching
# Option 1: Full Redis URL
# REDIS_URL=redis://localhost:6379

# Option 2: Individual connection parameters
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Performance Monitoring
ENABLE_QUERY_MONITORING=true          # Enable database query performance monitoring
SLOW_QUERY_THRESHOLD_MS=100           # Log queries slower than this (default: 100ms)